language: ruby
rvm:
  - ree
  - 1.8.7
  - 1.9.3
bundler_args: --without development
env:
  - DB=sqlite
  # - DB=postgres
  # - DB=mysql
before_script:
  - "cp config/database.${DB}.yml config/database.yml"
  - "cp config/teambox.example.yml config/teambox.yml"
  - bundle exec rake db:create db:schema:load RAILS_ENV=test
script: "bundle exec rake spec"
matrix:
  allow_failures:
    -rvm: 1.9.3
